<app-cabecalho></app-cabecalho>

<div class="container">
  <h1>Gerenciar Confrontos</h1>

  <div class="categoria-select">
    <label for="categoria">Selecione a Categoria:</label>
    <select id="categoria" [(ngModel)]="categoriaSelecionada" (change)="onCategoriaSelecionada()">
      <option value="">-- Escolha uma categoria --</option>
      <option *ngFor="let categoria of categorias" [value]="categoria.id">
        {{ categoria.nome }}
      </option>
    </select>
  </div>

  <div *ngIf="inscricoes.length > 0 && carregouInscricao" class="competidores-lista">
    <h3>Competidores:</h3>
    <ul>
      <li *ngFor="let i of inscricoes">{{ i.inscricaoInfo.nomeCompetidor }}</li>
    </ul>
  </div>

  <div *ngIf="categoriaSelecionada" class="confronto-area">
    <h2>Chaveamentos Visuais</h2>

    <div class="chaveamentos">
      <div *ngFor="let chave of chaveamentos" class="chaveamento">
        <h4>{{ chave.nome }}</h4>

        <div class="confronto" *ngFor="let confronto of chave.confrontos">
          <select [(ngModel)]="confronto.competidorA">
            <option [ngValue]="null">Escolher A</option>
            <option *ngFor="let i of inscricoes" [ngValue]="i.inscricaoInfo">{{ i.inscricaoInfo.nomeCompetidor }}</option>
          </select>

          <span>vs</span>

          <select [(ngModel)]="confronto.competidorB">
            <option [ngValue]="null">Escolher B</option>
            <option *ngFor="let i of inscricoes" [ngValue]="i.inscricaoInfo">{{ i.inscricaoInfo.nomeCompetidor }}</option>
          </select>
        </div>

        <!-- BotÃ£o para adicionar novo confronto dentro da chave -->
        <!-- <button (click)="adicionarConfronto(chave)">+ Adicionar Confronto</button> -->
      </div>
    </div>

    <button (click)="criarChaveamento()">+ Criar Novo Chaveamento</button>
  </div>
</div>

<app-rodape></app-rodape>